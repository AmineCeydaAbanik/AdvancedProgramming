<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    
    <title>Make a Table </title>

  <style>
    
    body { max-width: 800px; }
    pre  { overflow-x: auto; }
    input { width: 600px }
  
  </style>
</head>

<body>
<h2 id=title>Ki-Kare Tekniği</h2>
    "g = "
    <input type="number" id="ex" value="1" onchange="calculate()">
    "a = "
    <input type="number" id="lam" value="0.01" onchange="calculate()">
    <span id="res">P(g, a) = 6.63</span>
    

<pre id="out"> 
   a=0.995  a=0.91  a=0.925 a=0.95  a=0.90  a=0.10  a=0.05  a=0.025 a=0.01  a=0.005
<br>
g=1  0.00   0.00    0.00    0.00    0.02    2.71    3.84    5.02    6.63    7.88
<br>
g=2  0.01   0.02    0.05    0.10    0.21    4.61    5.99    7.38    9.21    10.60
<br>
g=3  0.07   0.11    0.22    0.35    0.58    6.25    7.81    9.35    11.34   12.84
<br>
g=4  0.21   0.30    0.48    0.71    1.06    7.78    9.49    11.14   13.28   14.86
<br>
g=5  0.41   0.55    0.83    1.15    1.61    9.24    11.07   12.83   15.09   16.75
<br>
g=6  0.68   0.87    1.24    1.64    2.20    10.64   12.59   14.45   16.81   18.55
<br>
g=7  0.99   1.24    1.69    2.17    2.83    12.02   14.07   16.01   18.48   20.28
<br>
g=8  1.34   1.65    2.18    2.73    3.49    13.36   15.51   17.53   20.09   21.95

</pre>
<hr>
    <b>Sample code</b>
<hr>
    <p>
        Ref: 
        <a href="https://endustriciyiz.blogspot.com/2013/07/ki-kare-teknigi.html" target="NewTab">Ki Kare Tekniği</a>
</p>
    <script>
"use strict";
function poisson(x, λ, f=4) {
    let p = Math.exp(-λ)
    for (let k=1; k<=x; k++) p = p*λ/k
    return p.toFixed(f)
}
function calculate() {
    let x = Number(ex.value)
    if (!Number.isInteger(x)) {
       x = Math.round(x); ex.value = x
    }
    let λ = Number(lam.value)
    res.innerText = "P(x, λ) = "+poisson(x, λ)
}
function doTable() {
    const L = [0.5, 1, 1.5, 2, 2.5, 3]
    let a = L.map((λ) => 'λ='+λ)
    let str = header(a)
    for (let x=0; x<=8; x++) { 
       let a = L.map((λ) => poisson(x, λ))
       str += oneLine(a, x)
    }
    return str
}
let header  = (a) => '      '+ a.join('   ')  //pre
let oneLine = (a, x) => '\nx='+x+'  '+ a.join(' ')
    
    title.innerText = document.title
    sample.innerText = poisson+'\n'+doTable
    calculate()
    out.innerText = doTable()
</script>
</body>
    
</html> 
